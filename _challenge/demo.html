
<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">

	<title>Global Methane Challenge</title>


	<!-- Bootstrap core CSS -->
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
		integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<link rel="stylesheet" href="assets/redesign.css">

	<!-- Favicons -->
	<link rel="apple-touch-icon" href="/docs/4.4/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
	<link rel="icon" href="/docs/4.4/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
	<link rel="icon" href="/docs/4.4/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
	<link rel="stylesheet" href="assets/css/font-awesome.min.css">
	<link rel="mask-icon" href="/docs/4.4/assets/img/favicons/safari-pinned-tab.svg" color="#563d7c">
	<link rel="icon" href="/docs/4.4/assets/img/favicons/favicon.ico">
	<meta name="msapplication-config" content="/docs/4.4/assets/img/favicons/browserconfig.xml">
	<meta name="theme-color" content="#563d7c">


	<style>

#chartdiv {
  width: 100%;
  height: 500px;
}

input{
			font-size: 1rem;
		}

		.button{
			background: #0097e6;
			border:none;
        }
        
		td.details-control {
			background: url('details_open.png') no-repeat center center;
			cursor: pointer;
		}

		tr.shown td.details-control {
			background: url('details_close.png') no-repeat center center;
		}

		table.dataTable tfoot {
			display: table-header-group;
			background: #006699;
		}

		table.dataTable tfoot th,
		table.dataTable tfoot td {
			padding: 10px 18px 6px 10px !important;
        }
        
        
		.nav-link {
      padding-right: .5rem !important;
      padding-left: .5rem !important;
    }
    
    /* Fixes dropdown menus placed on the right side */
    .ml-auto .dropdown-menu {
      left: auto !important;
      right: 0px;
    }

    .fsbanner{
        position:fixed;
        bottom:0;
        background:#f0932b;
        color:white;
        padding: 5px 20px 5px 20px;
        z-index:50000;
        width:100%;
        -webkit-box-shadow: 0px -2px 5px 1px rgba(0,0,0,0.75);
-moz-box-shadow: 0px -2px 5px 1px rgba(0,0,0,0.75);
box-shadow: 0px -2px 5px 1px rgba(0,0,0,0.75);
-webkit-animation: seconds 1.0s forwards;
  -webkit-animation-iteration-count: 1;
  -webkit-animation-delay: 15s;
  animation: seconds 1.0s forwards;
  animation-iteration-count: 1;
  animation-delay: 15s;

    }

    .fsbanner a{
color:white;
font-weight:bold;
    }


    @-webkit-keyframes seconds {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    left: -9999px; 
    position: absolute;   
  }
}
@keyframes seconds {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    left: -9999px;
    position: absolute;     
  }
}

#hide:hover{
		cursor:pointer;
	}
	</style>

</head>

<body>

<div id="fsbanner" class="fsbanner">
    The Global Methane Challenge fact sheet is available for download <a href="pdf/GMC Fact Sheet.pdf">in English <i class="fa fa-download"
        aria-hidden="true"></i></a> | <a href="pdf/GMC Fact Sheet_ES.pdf">en Español <i
        class="fa fa-download" aria-hidden="true"></i></a> | <a
    href="pdf/GMC Fact Sheet_FR.pdf">En français <i class="fa fa-download"
        aria-hidden="true"></i></a><p style="margin-bottom:0;float:right;"><a id="hide">x</a></p>
</div>

	<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
		<a class="navbar-brand" href="index.html">Global Methane Challenge</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
			aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarCollapse">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item">
					<a class="nav-link" href="showcase.html">Actions Showcase</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="submission/index.aspx">Tell Your Story</a>
				</li>
			</ul>
			<ul class="navbar-nav ml-auto">
				<li class="nav-item">
					<a class="nav-link" target="_blank" href="https://www.facebook.com/globalmethane/"><i class="fa fa-facebook-f"></i></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" target="_blank" href="https://twitter.com/globalmethane"><i class="fa fa-twitter"></i></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="https://linkedin.com/company/global-methane-initiative-gmi-" target="_blank"><i class="fa fa-linkedin"></i></a>
				</li>
				<li class="nav-item">
					<div id="languageWidget" style="margin-top:10px;">
						<div class="hider">
							<div id="google_translate_element"></div>
						</div>
					</div>
				</li>
			  </ul>
		</div>
	</nav>
	<video autoplay muted loop id="myVideo" poster="images/vidposter.png">
		<source src="assets/video/methanebg.mp4" type="video/mp4">
		<source src="assets/video/methanebg.ogg" type="video/ogg">
		<source src="assets/video/methanebg.webm" type="video/webm"> Your browser does not support HTML5 video.
	</video>
	<div id="tile"></div>
	<img id="watcher" src="images/watcher.png">
	<main role="main" class="container">
		<!-- Home Section-->
		<div id="home" class=" py-5 color1 shadow" style="padding-bottom:0!important;">
			<div class="container ">

				<div class="row">
					<div class="col-md-12" style="text-align:center;">
						<img src="images/gmclogo.svg"
							style="max-width:450px; margin-left:auto; margin-right:auto; filter: drop-shadow( 2px 0 2px hsla(0, 0%, 0%, 0.2))">
						<hr>
					</div>
				</div>
			</div>
		</div>



		<div id="listsection" class="album py-5 color30 shadow">
			<div class="container ">

				<div class="row">
					<div class="col-md-12">
						<h2>Actions Showcase</h2>
						<p>Click on the map to learn more about how organizations around the world are participating in
							the
							Global
							Methane
                            Challenge.</p>
                            
                            <script src="https://www.amcharts.com/lib/4/core.js"></script>
                            <script src="https://www.amcharts.com/lib/4/maps.js"></script>
                            <script src="https://www.amcharts.com/lib/4/geodata/worldLow.js"></script>
                            <div id="chartdiv"></div>
		

					</div>
				</div>

				<div class="row" style="margin-top:40px;">
					<div class="col-md-12">
						<table id="example" class="display" style="width:100%">
							<thead>
								<tr>
									<th></th>
									<th>Project Name</th>
									<th>Link</th>
									<th class="select-filter">Sector</th>
									<th class="select-filter">Country</th>
									<th class="select-filter">Project Type</th>
									<th>Thumbnail</th>
									<th>Description</th>
								</tr>
							</thead>
							<tfoot>
								<tr>
									<th></th>
									<th> </th>
									<th>Link</th>
									<th>Sector</th>
									<th>Country</th>
									<th>Project Type</th>
									<th> </th>
									<th>Description</th>
								</tr>
							</tfoot>
						</table>

					</div>



				</div>
			</div>
		</div>



		<!-- Bottom of Content-->

    </div>
    <div style="margin-top:60px;">
    &nbsp;
    </div>

	</main>
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"
		integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
		integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
	</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
		integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
	</script>

	<script src="assets/sweetalert/sweetalert2.min.js"></script>

	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css" type="text/css" />


	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js">
    </script>
        <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    
    <script>
        $(document).ready(function(){
          $("#hide").click(function(){
            $("#fsbanner").hide();
          });
        });
        </script>
	<script>
		/* Formatting function for row details - modify as you need */
		function format(d) {
			// `d` is the original data object for the row
			return '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">' +
				'<tr>' +
				'<td>' + d.Description + '</td>' +
				'<td><a href="' + d.Link + '">View</a></td>' +
				'</tr>' +
				'</table>';
		}

		$(document).ready(function () {
			var table = $('#example').DataTable({
				"ajax": "data.txt",
				"columns": [{
						"className": 'details-control',
						"orderable": false,
						"data": null,
						"defaultContent": ''
					},
					{
						"data": "Project Name"
					},
					{
						"data": "Link"
					},
					{
						"data": "Sector"
					},
					{
						"data": "Country"
					},
					{
						"data": "Type"
					},
					{
						"data": "Image"
					},
					{
						"data": "Description"
					}
				],
				"order": [
					[1, 'asc']
				],
				"columnDefs": [{
						// The `data` parameter refers to the data for the cell (defined by the
						// `data` option, which defaults to the column being worked with, in
						// this case `data: 0`.
						"render": function (data, type, row) {
							return '<a href="' + row.Link + '"><img src="' + data +
								' " style="max-height:100px;"></a>';
						},
						"targets": 6
					},
					{
						// The `data` parameter refers to the data for the cell (defined by the
						// `data` option, which defaults to the column being worked with, in
						// this case `data: 0`.
						"render": function (data, type, row) {
							return '<a href="' + row.Link + '">' + data + '</a>';
						},
						"targets": 1
					},
					{
						"visible": false,
						"targets": [2, 7]
					}
				],
				initComplete: function () {
					this.api().columns('.select-filter').every(function () {
						var column = this;
						var select = $('<select><option value=""></option></select>')
							.appendTo($(column.footer()).empty())
							.on('change', function () {
								var val = $.fn.dataTable.util.escapeRegex(
									$(this).val()
								);

								column
									.search(val ? '^' + val + '$' : '', true, false)
									.draw();
							});

						column.data().unique().sort().each(function (d, j) {
							select.append('<option value="' + d + '">' + d + '</option>')
						});
					});
				}

			});

			// Add event listener for opening and closing details
			$('#example tbody').on('click', 'td.details-control', function () {
				var tr = $(this).closest('tr');
				var row = table.row(tr);

				if (row.child.isShown()) {
					// This row is already open - close it
					row.child.hide();
					tr.removeClass('shown');
				} else {
					// Open this row
					row.child(format(row.data())).show();
					tr.addClass('shown');
				}
			});
		});

		var vid = document.getElementById("myVideo");
		var watcher = document.getElementById('watcher');

		vid.playbackRate = 0.3;

		$.fn.isInViewport = function () {
			var elementLeft = $(this).offset().left;
			var elementRight = elementLeft;

			var viewportLeft = $(window).scrollLeft();
			var viewportRight = viewportLeft + $(window).width();

			return elementRight > viewportLeft && elementLeft < viewportRight;
		};

		$(window).on('resize scroll', function () {
			$('section').each(function () {
				var activeColor = $(this).attr('id');

				if ($(this).isInViewport()) {
					$('nav ul li a').removeClass('active');
					$('#' + activeColor + 'nav').addClass('active');

				} else {
					$('#' + activeColor + 'nav').removeClass('active');
				}

			});

			if ($(watcher).isInViewport()) {
				vid.play();
				$('#infonav').removeClass('active');
			} else {

				vid.pause();
			}

		});

		window.jQuery || document.write(
			'<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"><\/script>'
			)

        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE
            }, 'google_translate_element');
        }



        $('.translateText').click(function () {
            $("#languageWidget").css("display", "block");
            $(".hider").slideToggle();
        });

    /**
* ---------------------------------------
* This demo was created using amCharts 4.
*
* For more information visit:
* https://www.amcharts.com/
*
* Documentation is available at:
* https://www.amcharts.com/docs/v4/
* ---------------------------------------
*/

// Create map instance
var chart = am4core.create("chartdiv", am4maps.MapChart);

// Set map definition
chart.geodata = am4geodata_worldLow;

// Set projection
chart.projection = new am4maps.projections.Mercator();


// Create map polygon series
var polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());

// Make map load polygon (like country names) data from GeoJSON
polygonSeries.useGeodata = true;

// Configure series
var polygonTemplate = polygonSeries.mapPolygons.template;
polygonTemplate.tooltipText = "{name}";
polygonTemplate.fill = am4core.color("#74B266");

// Create hover state and set alternative fill color
var hs = polygonTemplate.states.create("hover");
hs.properties.fill = am4core.color("#367B25");

// Remove Antarctica
polygonSeries.exclude = ["AQ"];

// Add some data
polygonSeries.data = [{
"id": "US",
"name": "United States",
"fill": am4core.color("#fa983a")
}, {
"id": "FR",
"name": "France",
"fill": am4core.color("#fa983a")
}];
polygonSeries.calculateVisualCenter = true;

// Bind "fill" property to "fill" key in data
polygonTemplate.propertyFields.fill = "fill";
polygonTemplate.events.on("hit", function(ev) {
ev.target.series.chart.zoomToMapObject(ev.target);
zoomOut.show();
})

// Create image series
var imageSeries = chart.series.push(new am4maps.MapImageSeries());

// Create a circle image in image series template so it gets replicated to all new images
var imageSeriesTemplate = imageSeries.mapImages.template;
var circle = imageSeriesTemplate.createChild(am4core.Circle);
circle.radius = 4;
circle.fill = am4core.color("#B27799");
circle.stroke = am4core.color("#FFFFFF");
circle.strokeWidth = 1;
circle.nonScaling = true;
circle.tooltipText = "{title}";



// Add button
var zoomOut = chart.tooltipContainer.createChild(am4core.ZoomOutButton);
zoomOut.align = "right";
zoomOut.valign = "top";
zoomOut.background.fill = am4core.color("#b71540");
zoomOut.margin(20, 20, 20, 20);
zoomOut.events.on("hit", function() {
chart.goHome();
zoomOut.hide();
});
zoomOut.hide();

// Set property fields
imageSeriesTemplate.propertyFields.latitude = "latitude";
imageSeriesTemplate.propertyFields.longitude = "longitude";

// Add data for the three cities
imageSeries.data = [{
"latitude": 48.856614,
"longitude": 2.352222,
"title": "Paris"
}, {
"latitude": 40.712775,
"longitude": -74.005973,
"title": "New York"
}, {
"latitude": 49.282729,
"longitude": -123.120738,
"title": "Vancouver"
}];


var mapData = [
{ "id":"AU", "name":"Australia", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"BE", "name":"Belgium", "value":2, "color":chart.colors.getIndex(4) },
{ "id":"BR", "name":"Brazil", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"CA", "name":"Canada", "value":23, "color":chart.colors.getIndex(4) },
{ "id":"CL", "name":"Chile", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"CN", "name":"China", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"CO", "name":"Colombia", "value":2, "color":chart.colors.getIndex(4) },
{ "id":"DK", "name":"Denmark", "value":2, "color":chart.colors.getIndex(4) },
{ "id":"FR", "name":"France", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"IN", "name":"India", "value":5, "color":chart.colors.getIndex(4) },
{ "id":"IT", "name":"Italy", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"KZ", "name":"Kazakhstan", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"MX", "name":"Mexico", "value":3, "color":chart.colors.getIndex(4) },
{ "id":"MN", "name":"Mongolia", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"MA", "name":"Morocco", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"PL", "name":"Poland", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"RU", "name":"Russia", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"RS", "name":"Serbia", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"ES", "name":"Spain", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"CH", "name":"Switzerland", "value":2, "color":chart.colors.getIndex(4) },
{ "id":"AE", "name":"United Arab Emirates", "value":1, "color":chart.colors.getIndex(4) },
{ "id":"GB", "name":"United Kingdom", "value":2, "color":chart.colors.getIndex(4) },
{ "id":"US", "name":"United States", "value":6, "color":chart.colors.getIndex(4) }
];

var imageSeries = chart.series.push(new am4maps.MapImageSeries());
imageSeries.data = mapData;
imageSeries.dataFields.value = "value";

var imageTemplate = imageSeries.mapImages.template;
imageTemplate.nonScaling = true

var circle = imageTemplate.createChild(am4core.Circle);
circle.fillOpacity = 0.7;
circle.propertyFields.fill = "color";
circle.tooltipText = "{name}: [bold]{value}[/]";


circle.events.on("hit", function(ev) {
    console.log(circle);
    $('#example').DataTable.search($(this).val()).draw() ;
})

imageSeries.heatRules.push({
"target": circle,
"property": "radius",
"min": 8,
"max": 30,
"dataField": "value"
})

imageTemplate.adapter.add("latitude", function(latitude, target) {
var polygon = polygonSeries.getPolygonById(target.dataItem.dataContext.id);
if(polygon){
return polygon.visualLatitude;
}
return latitude;
})

imageTemplate.adapter.add("longitude", function(longitude, target) {
var polygon = polygonSeries.getPolygonById(target.dataItem.dataContext.id);
if(polygon){
return polygon.visualLongitude;
}
return longitude;
})

</script>
</body>

</html>