<!DOCTYPE HTML>
<html>

<head>
  <meta name="robots" content="index, all" />
  <script src="http://www.webglearth.com/v2/api.js"></script>
  <title>Global Methane Challenge</title>
  <script>
    var map;

    function init() {
      map = WE.map('map', {
        center: [36.057944835, -112.18688965],
        sky: true,
        atmosphere: true,
        zoom: 3,
        maxZoom: 6,
        dragging: true,
        scrollWheelZoom: true

      });


      const usaMarker = WE.marker([38.95940879245423, -77.080078125]);
      const canadaMarker = WE.marker([45.42158812329091, -75.816650390625]);
      const sfbcMarker = WE.marker([22.06527806776582, 78.2666015625], 'globe/marker_red.png', 25, 41);

      usaMarker.addTo(map);
      canadaMarker.addTo(map);
      sfbcMarker.addTo(map);


      var baselayer = WE.tileLayer('https://webglearth.github.io/webglearth2-offline/{z}/{x}/{y}.jpg', {
        tileSize: 256,
        bounds: [
          [-85, -180],
          [85, 180]
        ],
        minZoom: 0,
        maxZoom: 5,
        attribution: 'WebGLEarth example',
        tms: true
      }).addTo(map);

      var before = null;
      requestAnimationFrame(function animate(now) {
        var c = map.getPosition();
        var elapsed = before ? now - before : 0;
        before = now;
        map.setCenter([c[0], c[1] + 0.1 * (elapsed / 30)]);
        requestAnimationFrame(animate);
      });


      var getUSA = function (e) {
        var polygonA = WE.polygon([
          [
            48.8357974624309,
            -123.00292968749999
          ],
          [
            48.3416461723746,
            -124.67285156250001
          ],
          [
            39.8760194196211,
            -124.01367187499999
          ],
          [
            34.5246614717717,
            -121.025390625
          ],
          [
            34.0526594213759,
            -119.2236328125
          ],
          [
            32.694865977875,
            -117.0703125
          ],
          [
            32.3242755888765,
            -113.466796875
          ],
          [
            31.5785354264733,
            -110.61035156249999
          ],
          [
            31.4661537150242,
            -106.25976562499999
          ],
          [
            29.3055613255276,
            -103.623046875
          ],
          [
            29.6116701151973,
            -102.0849609375
          ],
          [
            26.1159859253335,
            -98.39355468749999
          ],
          [
            25.8394494020631,
            -97.3388671875
          ],
          [
            28.5748740474469,
            -96.2841796875
          ],
          [
            29.9168522330701,
            -91.49414062499999
          ],
          [
            28.7291304834301,
            -89.384765625
          ],
          [
            30.0310554265402,
            -89.033203125
          ],
          [
            30.3349538819885,
            -86.30859375
          ],
          [
            29.8787553460379,
            -83.75976562499999
          ],
          [
            28.5748740474469,
            -82.705078125
          ],
          [
            24.8465653482197,
            -81.03515625
          ],
          [
            26.5885271473086,
            -79.8046875
          ],
          [
            30.8267809047797,
            -81.650390625
          ],
          [
            33.5780147461439,
            -78.662109375
          ],
          [
            35.6037187406973,
            -75.849609375
          ],
          [
            38.410558250946,
            -75.41015624999999
          ],
          [
            40.3130432088809,
            -72.0703125
          ],
          [
            42.29356419217,
            -69.9609375
          ],
          [
            43.8345267822368,
            -69.60937499999999
          ],
          [
            45.089035564831,
            -65.21484375
          ],
          [
            46.6795944656402,
            -68.37890625
          ],
          [
            45.3367019099681,
            -71.19140625
          ],
          [
            44.3395652480971,
            -75.41015624999999
          ],
          [
            42.6824353983862,
            -80.68359375
          ],
          [
            43.3251776799929,
            -82.08984375
          ],
          [
            45.460130637921,
            -82.44140625
          ],
          [
            46.8000594467873,
            -85.078125
          ],
          [
            48.1074311884803,
            -87.1875
          ],
          [
            47.9899216674141,
            -90.703125
          ],
          [
            48.6909603909254,
            -93.69140625
          ],
          [
            49.3823727870095,
            -95.80078125
          ],
          [
            48.994635983534,
            -123.29956054687501
          ]
        ]).addTo(map);
        document.getElementById("content").innerHTML =
          '<object type="text/html" style="width:100%;height:100%;" data="usa.html" ></object>';
      };

      var getCanada = function (e) {

        var polygonA = WE.polygon(
          [
          [
21.5552844069231,
            108.017578125
          ],
          [
21.7390912177185,
            107.24853515625
          ],
          [
22.1263547599196,
            106.69921875
          ],
          [
22.5531474784031,
            106.54541015625
          ],
          [
22.8166941268998,
            106.76513671875
          ],
          [
22.8774404648971,
            106.45751953125
          ],
          [
22.9988515941429,
            105.88623046874999
          ],
          [
23.3422558351305,
            105.3369140625
          ],
          [
23.0999442125314,
            104.8974609375
          ],
          [
22.6951201849656,
            104.43603515624999
          ],
          [
22.6140108743702,
            103.77685546875
          ],
          [
22.7356568522064,
            103.623046875
          ],
          [
22.6545715200989,
            102.54638671875
          ],
          [
22.4313401563606,
            102.15087890624999
          ],
          [
21.7594997307198,
            102.74414062499999
          ],
          [
21.3098461410871,
            102.9638671875
          ],
          [
20.8588117908677,
            103.22753906249999
          ],
          [
20.7355659052186,
            103.7548828125
          ],
          [
20.9409196703946,
            104.04052734375
          ],
          [
20.6944615979077,
            104.6337890625
          ],
          [
20.4064204749202,
            104.52392578125
          ],
          [
20.0765701045451,
            104.96337890625
          ],
          [
19.6011941612631,
            104.52392578125
          ],
          [
19.5597901364974,
            104.04052734375
          ],
          [
19.165924253628,
            103.974609375
          ],
          [
18.6254245407012,
            105.0732421875
          ],
          [
17.4973894006638,
            106.0400390625
          ],
          [
16.4466222716466,
            106.94091796875
          ],
          [
16.0246957116853,
            107.38037109375
          ],
          [
15.7499625727487,
            107.29248046875
          ],
          [
15.3901357153052,
            107.57812499999999
          ],
          [
14.6261087988768,
            107.55615234375
          ],
          [
14.1152674111227,
            107.42431640625
          ],
          [
13.6032781325287,
            107.60009765625
          ],
          [
12.8118013165826,
            107.55615234375
          ],
          [
12.4687601448232,
            107.5341796875
          ],
          [
12.0822958373635,
            106.962890625
          ],
          [
11.9103535557741,
            106.32568359375
          ],
          [
11.6307157379814,
            106.14990234375
          ],
          [
11.5230875068685,
            105.84228515625
          ],
          [
11.0490383465371,
            106.12792968749999
          ],
          [
10.8764649948162,
            105.88623046874999
          ],
          [
10.9627642563868,
            105.556640625
          ],
          [
10.4229883883382,
            104.65576171875
          ],
          [
9.5574173568413,
            104.80957031249999
          ],
          [
8.55929390330202,
            104.80957031249999
          ],
          [
9.12379205707398,
            105.79833984375
          ],
          [
9.68739843076062,
            106.63330078125
          ],
          [
10.6822006000841,
            107.86376953125
          ],
          [
11.4584907526538,
            109.00634765625
          ],
          [
12.1037808916458,
            109.2919921875
          ],
          [
12.9831477167965,
            109.3798828125
          ],
          [
14.413400165206,
            109.2041015625
          ],
          [
15.6230368315282,
            108.56689453125
          ],
          [
16.1513685359688,
            108.2373046875
          ],
          [
16.4255475069167,
            107.8857421875
          ],
          [
16.9937554528945,
            107.05078125
          ],
          [
17.7068281240195,
            106.67724609375
          ],
          [
18.2293513383866,
            106.34765625
          ],
          [
19.0621178835146,
            105.71044921875
          ],
          [
19.9113835141555,
            105.93017578125
          ],
          [
20.612219573881,
            106.74316406249999
          ]
        ]  
          , {
            color: '#00ff00',
            opacity: 1,
            fillColor: '#00ff00',
            fillOpacity: 0.1,
            editable: false,
            weight: 2
          }

        ).addTo(map);


        var polygonA = WE.polygon(
          [
          [
4.36832042087624,
            -7.55859375
          ],
          [
5.09094417503339,
            -7.536621093749999
          ],
          [
5.85647456530048,
            -7.4267578125
          ],
          [
6.52273003733541,
            -8.50341796875
          ],
          [
7.54765560124183,
            -8.4814453125
          ],
          [
8.03747339584114,
            -8.020019531249998
          ],
          [
8.77651071605235,
            -7.833251953125
          ],
          [
9.95802997233643,
            -8.10791015625
          ],
          [
10.4445977228348,
            -7.646484374999999
          ],
          [
10.3257278721883,
            -7.00927734375
          ],
          [
10.6498110557458,
            -6.39404296875
          ],
          [
10.3689584991662,
            -5.833740234375
          ],
          [
10.0770371544047,
            -5.03173828125
          ],
          [
9.50324387978523,
            -4.141845703125
          ],
          [
9.96885060854611,
            -3.306884765625
          ],
          [
9.13463922171678,
            -2.625732421875
          ],
          [
8.10273857778316,
            -2.5268554687499996
          ],
          [
6.94823863811701,
            -3.065185546875
          ],
          [
5.69251593674678,
            -2.8894042968749996
          ],
          [
5.06905782678404,
            -2.933349609375
          ],
          [
5.08000109380862,
            -5.394287109375
          ]
        ]
, {
            color: '#00ff00',
            opacity: 1,
            fillColor: '#00ff00',
            fillOpacity: 0.1,
            editable: false,
            weight: 2
          }

        ).addTo(map);


        var polygonA = WE.polygon([
          [
16.0669289574501,
            -16.446533203125
          ],
          [
14.7323860814184,
            -17.545166015625
          ],
          [
14.5623177019148,
            -17.1826171875
          ],
          [
13.5925997571471,
            -16.578369140625
          ],
          [
13.5819209005458,
            -15.589599609374998
          ],
          [
13.8700801006858,
            -15.128173828125
          ],
          [
13.5712415630741,
            -13.765869140624998
          ],
          [
13.2827189608964,
            -13.765869140624998
          ],
          [
13.2078604705254,
            -14.3701171875
          ],
          [
13.4323665758137,
            -15.139160156249998
          ],
          [
13.2720263011999,
            -15.743408203124998
          ],
          [
13.1329790190874,
            -16.787109375
          ],
          [
12.3614659673473,
            -16.677246093749996
          ],
          [
12.4151185850063,
            -15.886230468750002
          ],
          [
12.6939329358514,
            -15.00732421875
          ],
          [
12.6724964365456,
            -13.062744140625
          ],
          [
12.4043889446697,
            -12.359619140624998
          ],
          [
12.4687601448232,
            -11.436767578124998
          ],
          [
12.9724420105783,
            -11.370849609375
          ],
          [
13.4537372134192,
            -11.9091796875
          ],
          [
14.2856773001825,
            -12.0849609375
          ],
          [
14.8492312379142,
            -12.28271484375
          ],
          [
15.9296382431691,
            -13.447265624999998
          ],
          [
16.267414101657,
            -13.842773437499998
          ],
          [
16.615137799987,
            -14.403076171875
          ],
          [
16.5730227191827,
            -15.292968749999998
          ],
          [
16.488764934242,
            -16.204833984375
          ]
          ], {
  color: '#00ff00',
            opacity: 1,
            fillColor: '#00ff00',
            fillOpacity: 0.1,
            editable: false,
            weight: 2
}).addTo(map);        
          

      


        var polygonA = WE.polygon([
            [
              32.5468131735151,
              -117.46582031249999
            ],
            [
              28.3430649048254,
              -114.12597656249999
            ],
            [
              27.7224359189734,
              -114.82910156249999
            ],
            [
              26.0765205598569,
              -112.32421875
            ],
            [
              24.6869524119991,
              -112.19238281249999
            ],
            [
              22.9988515941429,
              -110.0830078125
            ],
            [
              23.2413461023861,
              -109.3798828125
            ],
            [
              26.7848473610511,
              -111.62109375
            ],
            [
              29.8025179057644,
              -113.6865234375
            ],
            [
              31.5410898795858,
              -114.6533203125
            ],
            [
              30.9022247051714,
              -113.2470703125
            ],
            [
              26.9024768862798,
              -110.25878906249999
            ],
            [
              24.2870268653764,
              -107.75390625
            ],
            [
              21.820707853875,
              -105.4248046875
            ],
            [
              20.3034175184893,
              -105.4248046875
            ],
            [
              18.0623123045467,
              -103.271484375
            ],
            [
              16.2990510145818,
              -98.349609375
            ],
            [
              15.4113193779809,
              -93.1201171875
            ],
            [
              14.519780046326,
              -92.548828125
            ],
            [
              15.9613290815966,
              -91.97753906249999
            ],
            [
              16.1302620120347,
              -90.52734374999999
            ],
            [
              17.1827790564318,
              -91.1865234375
            ],
            [
              18.2293513383866,
              -89.07714843749999
            ],
            [
              18.7295019990721,
              -87.4951171875
            ],
            [
              21.4121622297254,
              -86.66015624999999
            ],
            [
              21.5757189324584,
              -88.4619140625
            ],
            [
              21.1254976366062,
              -90.3515625
            ],
            [
              19.3526108943786,
              -91.14257812499999
            ],
            [
              18.6046013884552,
              -92.548828125
            ],
            [
              18.3545255291266,
              -94.52636718749999
            ],
            [
              19.1866776979578,
              -96.0205078125
            ],
            [
              21.6165793367406,
              -97.55859375
            ],
            [
              23.5639871284512,
              -97.6904296875
            ],
            [
              25.5622650144274,
              -97.42675781249999
            ],
            [
              26.2343020324067,
              -99.00878906249999
            ],
            [
              29.2672328652008,
              -100.8544921875
            ],
            [
              29.7262223193955,
              -101.77734374999999
            ],
            [
              29.5734570730175,
              -102.87597656249999
            ],
            [
              29.1905328322945,
              -103.22753906249999
            ],
            [
              29.6880527498568,
              -104.4580078125
            ],
            [
              30.60009387355,
              -104.94140625
            ],
            [
              31.3536369415009,
              -106.0400390625
            ],
            [
              31.6907818061368,
              -106.61132812499999
            ],
            [
              31.615965936476,
              -108.10546875
            ],
            [
              31.2409853780213,
              -108.10546875
            ],
            [
              31.2785508589465,
              -110.8740234375
            ],
            [
              32.4726950220615,
              -114.9609375
            ],
            [
              32.7688004848816,
              -115.00488281250001
            ]
          ], {
            color: '#00ff00',
            opacity: 1,
            fillColor: '#00ff00',
            fillOpacity: 0.1,
            editable: false,
            weight: 2
          }

        ).addTo(map);

        var polygonA = WE.polygon(
          [
            [
              48.4583518828086,
              -123.48632812499999
            ],
            [
              52.0524904760009,
              -128.935546875
            ],
            [
              57.3739384187141,
              -130.166015625
            ],
            [
              58.7225988280433,
              -135.087890625
            ],
            [
              60.6301017662667,
              -140.361328125
            ],
            [
              69.4421276134176,
              -141.416015625
            ],
            [
              70.4367988185464,
              -128.583984375
            ],
            [
              70.2594520003063,
              -119.794921875
            ],
            [
              72.0739114882038,
              -127.61718749999999
            ],
            [
              74.8678891291791,
              -122.6953125
            ],
            [
              75.0503535740769,
              -92.8125
            ],
            [
              73.4284236410681,
              -71.71875
            ],
            [
              59.5343180010956,
              -51.67968749999999
            ],
            [
              48.9224992637582,
              -51.328125
            ],
            [
              49.3823727870095,
              -65.390625
            ],
            [
              45.3367019099681,
              -72.421875
            ],
            [
              43.0688877741696,
              -78.57421875
            ],
            [
              42.9403392336318,
              -82.265625
            ],
            [
              45.8287992519213,
              -83.14453125
            ],
            [
              48.2246726495651,
              -87.36328125
            ],
            [
              48.5747899109288,
              -93.1640625
            ],
            [
              49.1529696561704,
              -101.6015625
            ],
            [
              48.9224992637582,
              -118.30078125
            ]
          ]

        ).addTo(map);


        document.getElementById("content").innerHTML =
          '<object type="text/html" style="width:100%;height:100%;" data="canada.html#menu" ></object>';
      };

      var getSourceFacility = function (e) {
        var polygonA = WE.polygon(
          [
            [
              32.2128010680151,
              75.2783203125
            ],
            [
              31.1281992991119,
              74.3994140625
            ],
            [
              29.3821750751452,
              73.388671875
            ],
            [
              27.8779283336794,
              71.7626953125
            ],
            [
              27.5277582068618,
              70.09277343749999
            ],
            [
              26.4312280645064,
              69.7412109375
            ],
            [
              24.6070691377096,
              71.2353515625
            ],
            [
              24.086589258228,
              68.5546875
            ],
            [
              21.9430455334381,
              69.2138671875
            ],
            [
              20.756113874762,
              72.4658203125
            ],
            [
              16.7624677179416,
              73.30078125
            ],
            [
              12.6832149118186,
              75.05859375
            ],
            [
              9.1888700844734,
              76.5966796875
            ],
            [
              8.05922962720019,
              77.5634765625
            ],
            [
              10.0499939056351,
              79.22241210937499
            ],
            [
              10.3581514009436,
              79.8046875
            ],
            [
              12.860004340637,
              80.2386474609375
            ],
            [
              15.1993860485599,
              80.068359375
            ],
            [
              17.7277586098522,
              83.0126953125
            ],
            [
              21.9226632093259,
              88.9892578125
            ],
            [
              24.746831298412,
              88.22021484375
            ],
            [
              26.3131126376826,
              88.43994140625
            ],
            [
              27.2546295778,
              84.48486328124999
            ],
            [
              28.6134594240044,
              80.37597656249999
            ],
            [
              30.259067203213,
              80.771484375
            ],
            [
              31.6907818061368,
              78.2666015625
            ]
          ], {
            color: '#ff0000',
            opacity: 1,
            fillColor: '#ff0000',
            fillOpacity: 0.1,
            editable: false,
            weight: 2
          }
        ).addTo(map);
        document.getElementById("content").innerHTML =
          '<object type="text/html" style="width:100%;height:100%;" data="sourcefacilitybiocity.html" ></object>';
      };


      usaMarker.on('click', getUSA);
      canadaMarker.on('click', getCanada);
      sfbcMarker.on('click', getSourceFacility);








      function flyToJapan() {
        map.fitBounds([
          [22, 122],
          [48, 154]
        ]);
        map.panInsideBounds([
          [22, 122],
          [48, 154]
        ], {
          heading: 90,
          tilt: 25,
          duration: 6
        });
      }

      function panTo(coords) {
        map.panTo(coords);
      }





    }
  </script>
  <style>
    html,
    body {
      padding: 0;
      margin: 0;
    }

    #map {
      top: 0;
      bottom: 0;
      left: 0;
      width: 60%;
      background-color: #000;
      position: absolute !important;
    }

    #content {
      top: 0;
      bottom: 0;
      right: 0;
      width: 40%;
      background-color: #000000;
      position: absolute !important;
    }

    #legend{
      position:absolute;
      bottom:0;
      background:#2c3e50;
      border-top: 2px solid #34495e;
      height:60px;
      width:60%;
      z-index:2000px;
      font-family:sans-serif;
      color:#95a5a6;
      padding-top:10px;
    }

    #logo{
      max-width:250px;
      position:absolute;
      top:5px;
      left:5px;
      z-index:2001;

    }

    #overlay{
      position:absolute;
      width:60%;
      top:0;
      left:0;
      bottom:0;
      z-index:9999999999;
    }

    @media only screen and (max-device-width:700px) {
      #map {
        width: 100%;
        right: 0;
      }

      #content {
        display: none;
      }
    }
  </style>
</head>

<body onload="init()">

  <img id="logo" src="images/gmclogo.svg">
  <div id="map"></div>

  <div id="content"></div>
  
  <div id="legend"><span style="font-size:1.5em;margin-right:20px;margin-left:20px;">Legend</span>
  <img src="globe/marker_blue.png" style="max-height:50%;" > National Action
  <img src="globe/marker_red.png" style="max-height:50%;"> Subnational Action
  <img src="globe/polygon.png" style="max-height:50%;"> Scope of Work

  </div>


</body>

</html>